import{a as M,c as C,d as S,e as v,f as E,g as T,i as P,j as R,k as O,n as N,p as W,q as D}from"./chunk-DXYYGHEJ.js";import{j as _}from"./chunk-7GFLASI2.js";import{$a as c,Lb as k,Na as b,Ra as x,Va as t,Wa as o,aa as f,bb as h,ib as n,kb as y,mb as s,nb as g,ob as m,qb as w,ya as a,za as u}from"./chunk-VAVCAVYT.js";function L(p,i){if(p&1&&(t(0,"div",22),n(1),o()),p&2){let d=h();a(),y(" ",d.errorMessage," ")}}var I=class p{constructor(i,d){this.authService=i;this.routeNavigator=d}nombre="";apellido="";email="";password="";rol="Empleado";refreshToken="";refreshTokenExpiry=new Date;errorMessage="";ngOnInit(){this.refreshToken=this.generateRefreshToken(),this.refreshTokenExpiry=this.generateRefreshTokenExpiry()}onSubmit(){this.authService.register(this.nombre,this.apellido,this.email,this.password,this.rol).subscribe({next:()=>{this.routeNavigator.navigateToLogin()},error:i=>{this.errorMessage="Error al registrar el usuario"}})}goToLogin(){this.routeNavigator.navigateToLogin()}generateRefreshToken(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}generateRefreshTokenExpiry(){let i=new Date;return i.setDate(i.getDate()+7),i}static \u0275fac=function(d){return new(d||p)(u(_),u(D))};static \u0275cmp=f({type:p,selectors:[["app-register"]],standalone:!0,features:[w],decls:37,vars:6,consts:[[1,"min-h-screen","flex","items-center","justify-center","bg-gray-100","dark:bg-gray-900"],[1,"register-container","bg-white","dark:bg-gray-800","p-8","rounded-lg","shadow-md","w-full","max-w-md"],[1,"text-2xl","font-bold","text-center","mb-6","text-gray-800","dark:text-white"],[1,"space-y-4",3,"ngSubmit"],[1,"form-group"],["for","nombre",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","text","id","nombre","name","nombre","placeholder","Tu nombre","required","",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm","dark:bg-gray-700","dark:border-gray-600","dark:text-white",3,"ngModelChange","ngModel"],["for","apellido",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","text","id","apellido","name","apellido","placeholder","Tu apellido","required","",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm","dark:bg-gray-700","dark:border-gray-600","dark:text-white",3,"ngModelChange","ngModel"],["for","email",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","email","id","email","name","email","placeholder","ejemplo@correo.com","required","",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm","dark:bg-gray-700","dark:border-gray-600","dark:text-white",3,"ngModelChange","ngModel"],["for","password",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","password","id","password","name","password","placeholder","Contrase\xF1a","required","",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm","dark:bg-gray-700","dark:border-gray-600","dark:text-white",3,"ngModelChange","ngModel"],["for","role",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["id","role","name","role","required","",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm","dark:bg-gray-700","dark:border-gray-600","dark:text-white",3,"ngModelChange","ngModel"],["value","Empleado"],["value","Jefe"],["class","error text-red-500 text-sm text-center",4,"ngIf"],["type","submit",1,"w-full","py-2","px-4","bg-green-800","hover:bg-green-700","text-white","font-semibold","rounded-md","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-green-500","transition-colors"],[1,"mt-4","text-center"],[1,"text-gray-600","dark:text-gray-400"],[1,"link","text-indigo-600","hover:underline","cursor-pointer","ml-2",3,"click"],[1,"error","text-red-500","text-sm","text-center"]],template:function(d,r){d&1&&(t(0,"div",0)(1,"div",1)(2,"h2",2),n(3," Registro "),o(),t(4,"form",3),c("ngSubmit",function(){return r.onSubmit()}),t(5,"div",4)(6,"label",5),n(7," Nombre "),o(),t(8,"input",6),m("ngModelChange",function(e){return g(r.nombre,e)||(r.nombre=e),e}),o()(),t(9,"div",4)(10,"label",7),n(11," Apellido "),o(),t(12,"input",8),m("ngModelChange",function(e){return g(r.apellido,e)||(r.apellido=e),e}),o()(),t(13,"div",4)(14,"label",9),n(15," Email "),o(),t(16,"input",10),m("ngModelChange",function(e){return g(r.email,e)||(r.email=e),e}),o()(),t(17,"div",4)(18,"label",11),n(19," Contrase\xF1a "),o(),t(20,"input",12),m("ngModelChange",function(e){return g(r.password,e)||(r.password=e),e}),o()(),t(21,"div",4)(22,"label",13),n(23," Rol "),o(),t(24,"select",14),m("ngModelChange",function(e){return g(r.rol,e)||(r.rol=e),e}),t(25,"option",15),n(26,"Empleado"),o(),t(27,"option",16),n(28,"Jefe"),o()()(),b(29,L,2,1,"div",17),t(30,"button",18),n(31," Registrar "),o()(),t(32,"div",19)(33,"span",20),n(34,"\xBFYa tienes una cuenta?"),o(),t(35,"a",21),c("click",function(){return r.goToLogin()}),n(36," Inicia sesi\xF3n aqu\xED "),o()()()()),d&2&&(a(8),s("ngModel",r.nombre),a(4),s("ngModel",r.apellido),a(4),s("ngModel",r.email),a(4),s("ngModel",r.password),a(4),s("ngModel",r.rol),a(5),x("ngIf",r.errorMessage))},dependencies:[k,W,T,R,O,M,P,C,S,N,E,v],styles:[".register-container[_ngcontent-%COMP%]{max-width:400px;margin:50px auto;padding:20px;border:1px solid #ccc;border-radius:8px;box-shadow:0 2px 10px #0000001a;background-color:inherit}h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;color:#333}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700;color:#555}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;padding:8px;box-sizing:border-box;border:1px solid #ccc;border-radius:4px;font-size:14px}input[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none;box-shadow:0 0 5px #007bff80}.btn[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#28a745;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:16px;transition:background-color .3s ease}.btn[_ngcontent-%COMP%]:hover{background-color:#218838}.error[_ngcontent-%COMP%]{color:red;margin-top:10px;font-size:14px}.login-link[_ngcontent-%COMP%]{margin-top:20px;text-align:center;font-size:14px;color:#555}.login-link[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{color:#007bff;text-decoration:none;font-weight:700}.login-link[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})};export{I as RegisterComponent};
