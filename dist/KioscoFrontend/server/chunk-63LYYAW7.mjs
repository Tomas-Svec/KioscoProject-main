import './polyfills.server.mjs';
import{c as A}from"./chunk-7CLDAD4R.mjs";import{a as _}from"./chunk-5QU7XVY4.mjs";import{a as R}from"./chunk-NG6GRI4F.mjs";import{$a as v,A as g,Cb as k,D as m,G as r,Hb as y,Ia as d,Ib as x,Jb as S,Lb as T,Mb as D,Qa as i,ba as s,ib as C,ob as b,ta as l,ua as u,va as h,za as f}from"./chunk-RUC5EUIT.mjs";var n=class e{constructor(o,t){this.themeService=o;this.location=t}toggleTheme(){this.themeService.toggleDarkMode()}goBack(){this.location.back()}static \u0275fac=function(t){return new(t||e)(s(_),s(b))};static \u0275cmp=r({type:e,selectors:[["app-header"]],standalone:!0,features:[i],decls:6,vars:0,consts:[[1,"flex","justify-between","items-center","p-4","bg-gray-200","dark:bg-gray-900","text-gray-900","dark:text-gray-100"],[1,"flex","items-center","space-x-4"],[1,"p-2","bg-gray-300","dark:bg-gray-700","text-gray-800","dark:text-gray-200","rounded","hover:bg-gray-400","dark:hover:bg-gray-600",3,"click"],[1,"p-2","bg-blue-500","text-white","rounded","dark:bg-slate-600",3,"click"]],template:function(t,c){t&1&&(l(0,"header",0)(1,"div",1)(2,"button",2),f("click",function(){return c.goBack()}),d(3," \u2190 "),u()(),l(4,"button",3),f("click",function(){return c.toggleTheme()}),d(5," \u{1F319} / \u2600\uFE0F "),u()())},styles:["header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem;background-color:var(--header-bg);color:var(--header-text)}button[_ngcontent-%COMP%]{transition:background-color .3s ease}button[_ngcontent-%COMP%]:hover{transform:scale(1.1)}"]})};var a=class e{title="kiosco-frontend";static \u0275fac=function(t){return new(t||e)};static \u0275cmp=r({type:e,selectors:[["app-root"]],standalone:!0,features:[i],decls:2,vars:0,template:function(t,c){t&1&&h(0,"app-header")(1,"router-outlet")},dependencies:[S,n]})};var p=class e{constructor(o,t){this.authService=o;this.router=t}canActivate(){return this.authService.isAuthenticated()?!0:this.authService.isRefreshTokenExpired()?(this.router.navigate(["/auth/login"]),!1):(this.authService.refreshToken(localStorage.getItem("refreshToken")).subscribe(o=>{this.authService.saveUserData(o),this.router.navigate(["/"])},o=>{this.router.navigate(["/auth/login"])}),!1)}static \u0275fac=function(t){return new(t||e)(m(R),m(T))};static \u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})};var F=[{path:"",redirectTo:"/auth/login",pathMatch:"full"},{path:"auth",children:[{path:"login",loadComponent:()=>import("./chunk-3RJZNOV7.mjs").then(e=>e.LoginComponent)},{path:"register",loadComponent:()=>import("./chunk-E6F65D4L.mjs").then(e=>e.RegisterComponent)}]},{path:"dashboard",loadComponent:()=>import("./chunk-ASST43NM.mjs").then(e=>e.DashboardComponent),canActivate:[p]},{path:"**",redirectTo:"/auth/login"}];var M={providers:[v({eventCoalescing:!0}),D(F),x(),k()]};var P={providers:[A()]},H=C(M,P);var E=()=>y(a,H),me=E;export{me as a};
